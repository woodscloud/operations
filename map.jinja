{% set dirs = salt['grains.filter_by']({
    'Debian': {
        'etc': '/etc',
        'bin': '/usr/bin',
        'home': '/home',
        'include': '/usr/include',
        'lib': '/usr/lib',
        'man': '/usr/share/man',
        'sbin': '/usr/sbin',
        'share': '/usr/share',
    },
    'FreeBSD' : {
        'etc': '/usr/local/etc',
        'bin': '/usr/local/bin',
        'home': '/usr/home',
        'include': '/usr/local/include',
        'lib': '/usr/local/lib',
        'man': '/usr/local/man',
        'sbin': '/usr/local/sbin',
        'share': '/usr/local/share',
    },
}, default='Debian') %}

{% set packages_dirs = salt['grains.filter_by']({
    'RedHat': {
        'zfsfunctions': '/usr/share/zsh/site-functions',
    },
    'Debian': {
        'zfsfunctions': '/usr/share/zsh/vendor-completions',
    },
    'FreeBSD' : {
        'zfsfunctions': '/usr/local/share/zsh/site-functions',
    },
}, default='RedHat') %}

{% set services = salt['grains.filter_by']({
    'Debian': {
        'manager': 'systemd',
    },
    'FreeBSD' : {
        'manager': 'rc',
    },
}, default='Debian') %}

{% set shells = salt['grains.filter_by']({
    'Debian': {
        'bash': '/bin/bash',
        'fish': '/usr/bin/fish',
        'tcsh': '/usr/bin/tcsh',
    },
    'FreeBSD' : {
        'bash': '/usr/local/bin/bash',
        'fish': '/usr/local/bin/fish',
        'tcsh': '/bin/tcsh',
    },
}, default='Debian') %}

{% set packages = salt['grains.filter_by']({
    'Debian' : {
        'nginx': 'nginx-full',
        'sphinx': 'python3-sphinx',
        'nc': 'netcat',
    },
    'RedHat': {
        'nginx': 'nginx',
        'sphinx': 'python3-sphinx',
        'nc': 'nc',
    },
    'Arch': {
        'nginx': 'nginx',
        'sphinx': 'python-sphinx',
        'nc': 'nc',
    },
    'FreeBSD' : {
        'nginx': 'nginx',
        'sphinx': 'py27-sphinx',
    },
}, default='Debian') %}
